(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"2/ge":function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return f})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return k})),r.d(t,"k",(function(){return w})),r.d(t,"l",(function(){return x})),r.d(t,"h",(function(){return g})),r.d(t,"g",(function(){return I})),r.d(t,"e",(function(){return P})),r.d(t,"a",(function(){return N}));var n=r("XEnU"),a=r("c1Ei"),c=r.n(a),i=r("5Tp6"),u=r("9kvl"),o=r("asXk");function s(){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(c.a.mark((function e(){var t,r=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.abrupt("return",Object(u["e"])("/coco/package/order/user/info",{method:"GET",params:{siteId:t}}).then((function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.dicUserDeviceVersionInfoList)||[]})));case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(c.a.mark((function e(){var t,r=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.abrupt("return",Object(u["e"])("/coco/package/order/user/info",{method:"GET",params:{siteId:t}}).then((function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.dicUserBusinessServicePackageList.map((function(e){return{businessServiceId:e.businessServiceId,businessServiceName:e.businessServiceName,userProductPrice:e.userProductPrice,productDays:e.productDays,servicePriceChildrenList:e.dicUserBusinessServicePriceList||[]}})))||[]})));case 2:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/individual/info",{method:"GET"}).then((function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{businessServiceId:e.businessId,businessServiceName:e.businessServiceName,userProductPrice:e.packagePrice,productDays:e.packageDays}})))||[]})));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/pre/order",{method:"POST",data:Object(n["a"])({token:Object(o["d"])()},t)}));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/order/close",{method:"POST",data:{token:Object(o["d"])(),orderNo:t}}));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/device/renew",{method:"POST",data:Object(n["a"])({token:Object(o["d"])()},t)}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/individual/business",{method:"POST",data:Object(n["a"])({token:Object(o["d"])()},t)}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return S=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/individual/multiwindows",{method:"POST",data:Object(n["a"])({token:Object(o["d"])()},t)}));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function g(e){return T.apply(this,arguments)}function T(){return T=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/order/list",{method:"POST",data:Object(n["a"])({token:Object(o["d"])()},t)}));case 1:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function I(e){return E.apply(this,arguments)}function E(){return E=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/detail",{method:"GET",params:{orderId:t}}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return D=Object(i["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/device/allocation/record/list",{method:"POST",data:{token:Object(o["d"])(),recordId:t,page:1,pageSize:1e4}}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function N(e,t){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(c.a.mark((function e(t,r){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["e"])("/coco/package/order/user/order/query",{method:"POST",data:{token:Object(o["d"])(),orderSn:t,orderType:r}}));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}},RpMD:function(e,t,r){"use strict";r.r(t);r("miYZ");var n=r("tsqr"),a=r("k16G"),c=(r("2qtc"),r("kLXV")),i=r("q1tI"),u=r.n(i),o=r("tMyG"),s=r("Qiat"),d=r("2/ge"),p=function(e){var t=e.serviceList;return 0===t.length?u.a.createElement("div",{style:{padding:"6px 0"}},"-"):u.a.createElement(u.a.Fragment,null,t.map((function(e){return u.a.createElement("div",{style:{padding:"6px 0"},key:e.businessName},u.a.createElement("span",null,e.businessName),u.a.createElement("span",{style:{marginLeft:16}},e.businessExpireTime))})))},l=function(e){var t=e.orderId,r=e.orderType,n=e.visible,a=e.onClose,o=Object(i["useRef"])();Object(i["useEffect"])((function(){var e;n&&(null===(e=o.current)||void 0===e||e.reload())}),[n]);var l=[{title:"\u4e91\u673aID",width:85,key:"deviceId",dataIndex:"deviceId"},{title:"\u4e91\u673a\u7248\u672c",width:150,key:"deviceVersionName",dataIndex:"deviceVersionName"},{title:"\u5230\u671f\u65f6\u95f4",width:180,key:"expireTime",dataIndex:"expireTime"},{title:"\u914d\u5957\u670d\u52a1",width:300,key:"serviceList",search:!1,render:function(e,t){return u.a.createElement(p,{serviceList:t.businessList})}}];return u.a.createElement(c["a"],{title:"\u8ba2\u5355\u8be6\u60c5",visible:n,footer:!1,onCancel:a,width:850},u.a.createElement(s["a"],{size:"small",columns:l,request:function(e,n,a){return 2===r?Object(d["e"])(t).then((function(e){var t;return Promise.resolve({data:(null===(t=e.list)||void 0===t?void 0:t.map((function(e){return{deviceId:e.deviceId,deviceVersionName:e.deviceVersionName,expireTime:e.allocationExpireTime,businessList:e.orderBusinessDetailInfoList||[]}})))||[],success:!0})})).catch((function(){return Promise.resolve({data:[],success:!1})})):Object(d["g"])(t).then((function(e){return Promise.resolve({data:e.data||[],success:!0})})).catch((function(){return Promise.resolve({data:[],success:!1})}))},actionRef:o,toolBarRender:!1,pagination:{pageSize:10},search:!1,columnEmptyText:"-"}))},f=function(){var e=Object(i["useState"])(0),t=Object(a["a"])(e,2),r=t[0],c=t[1],p=Object(i["useState"])(!1),f=Object(a["a"])(p,2),h=f[0],m=f[1],v=Object(i["useState"])(0),b=Object(a["a"])(v,2),y=b[0],k=b[1],O=Object(i["useState"])(0),w=Object(a["a"])(O,2),j=w[0],x=w[1],S=Object(i["useRef"])(),g=[{title:"ID",width:65,key:"id",render:function(e,t){return""+t.allocationType+t.id}},{title:"\u8ba2\u8d2d\u65f6\u95f4",width:185,key:"orderTime",dataIndex:"orderTime"},{title:"\u8ba2\u8d2d\u5185\u5bb9",key:"orderContent",dataIndex:"orderContent"},{title:"\u8ba2\u8d2d\u65f6\u957f",width:85,key:"applyDay",render:function(e,t){return t.applyDay}},{title:"\u8ba2\u8d2d\u6570\u91cf",width:85,key:"deviceNum",dataIndex:"deviceNum"},{title:"\u8ba2\u5355\u91d1\u989d",width:85,key:"orderAmount",render:function(e,t){return t.allocationType?"-":t.realAmount+"\u5143"}},{title:"\u8ba2\u5355\u7f16\u53f7",width:215,key:"orderSn",dataIndex:"orderSn"},{title:"\u652f\u4ed8\u65b9\u5f0f",width:105,key:"paymentType",dataIndex:"paymentType",valueEnum:{1:{text:"\u4f59\u989d"},2:{text:"\u652f\u4ed8\u5b9d"},3:{text:"\u5fae\u4fe1"},4:{text:"\u540e\u53f0\u5206\u53d1"}}},{title:"\u652f\u4ed8\u72b6\u6001",width:105,key:"payStatus",dataIndex:"payStatus",valueEnum:{1:{text:"\u5df2\u652f\u4ed8",status:"Success"},2:{text:"\u672a\u652f\u4ed8",status:"Processing"},3:{text:"\u5df2\u9000\u6b3e",status:"Default"},4:{text:"\u5df2\u5173\u95ed",status:"Default"}}},{title:"\u64cd\u4f5c",width:145,valueType:"option",fixed:"right",align:"center",render:function(e,t){var r=[];return 1!==t.payStatus&&4!==t.paymentType||r.push(u.a.createElement("a",{key:"info",onClick:function(){k(t.id),x(4===t.paymentType?2:1),m(!0)}},"\u8be6\u60c5")),1!==t.payStatus&&2!==t.payStatus||0!==t.allocationType||r.push(u.a.createElement("a",{key:"check",onClick:function(){Object(d["a"])(t.orderSn,t.paymentType).then((function(e){var r;(n["b"].success("\u66f4\u65b0\u8ba2\u5355\u72b6\u6001"),2===t.payStatus)&&(null===(r=S.current)||void 0===r||r.reload())}))}},"\u5230\u8d26\u67e5\u8be2")),2===t.payStatus&&r.push(u.a.createElement("a",{key:"close",onClick:function(){Object(d["c"])(t.orderSn).then((function(){var e;n["b"].success("\u8ba2\u5355\u53d6\u6d88\u6210\u529f"),null===(e=S.current)||void 0===e||e.reload()}))}},"\u53d6\u6d88\u8ba2\u5355")),r}}];return u.a.createElement(o["a"],null,u.a.createElement(l,{visible:h,orderId:y,orderType:j,onClose:function(){return m(!1)}}),u.a.createElement(s["a"],{columns:g,actionRef:S,request:function(e,t,r){var n=e.current,a=e.pageSize;return Object(d["h"])({page:n||1,pageSize:a||20}).then((function(e){return c(e.total),Promise.resolve({data:e.list||[],success:!0})})).catch((function(){return Promise.resolve({data:[],success:!1})}))},rowKey:function(e){return"".concat(e.allocationType).concat(e.id)},scroll:{x:1350},pagination:{total:r},toolBarRender:!1,search:!1,columnEmptyText:"-"}))};t["default"]=f}}]);