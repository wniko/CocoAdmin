(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc17192"],{1989:function(t,e,a){},"333d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function l(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,a){var n=r(),i=t-n,c=20,s=0;e="undefined"===typeof e?500:e;var u=function t(){s+=c;var r=Math.easeInOutQuad(s,n,i,e);l(r),s<e?o(t):a&&"function"===typeof a&&a()};u()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=s,d=(a("d887"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"0b2719bc",null);e["a"]=p.exports},"4b7b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticStyle:{float:"right"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"80px"},attrs:{placeholder:"选择时间",size:"small"},on:{change:t.handleAllocationListFilter},model:{value:t.allocationListQuery.days,callback:function(e){t.$set(t.allocationListQuery,"days",e)},expression:"allocationListQuery.days"}},t._l(t.daysListQueryOptions,(function(t){return a("el-option",{key:t.days,attrs:{label:t.option,value:t.days,size:"small"}})})),1),a("el-input",{staticClass:"filter-item",staticStyle:{width:"180px"},attrs:{placeholder:"用户手机号",clearable:"",size:"small"},on:{clear:t.handleAllocationListFilter},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAllocationListFilter(e)}},model:{value:t.allocationListQuery.phoneNum,callback:function(e){t.$set(t.allocationListQuery,"phoneNum",e)},expression:"allocationListQuery.phoneNum"}}),a("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:t.handleAllocationListFilter}},[t._v(" 搜索 ")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.allocationListLoading,expression:"allocationListLoading"}],staticStyle:{"max-width":"850px"},attrs:{data:t.allocationList,border:"","highlight-current-row":"",size:"small"}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.id))])]}}])}),a("el-table-column",{attrs:{label:"用户手机号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.userPhone))])]}}])}),a("el-table-column",{attrs:{label:"发放数量",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.deviceNum))])]}}])}),a("el-table-column",{attrs:{label:"发放时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.allocationTime))])]}}])}),a("el-table-column",{attrs:{label:"到期时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s("1970-01-01 12:00:00"===n.expireTime?"-":n.expireTime))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.allocationItemClick(n.id)}}},[t._v(" 查看明细 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.allocationTotal>0,expression:"allocationTotal > 0"}],attrs:{total:t.allocationTotal,page:t.allocationListQuery.page,limit:t.allocationListQuery.pageSize},on:{"update:page":function(e){return t.$set(t.allocationListQuery,"page",e)},"update:limit":function(e){return t.$set(t.allocationListQuery,"pageSize",e)},pagination:t.getAllocationList}}),a("el-dialog",{attrs:{visible:t.allocationItemDialogVisible,"close-on-click-modal":!1,title:"明细",width:"750px"},on:{"update:visible":function(e){t.allocationItemDialogVisible=e},close:t.handleAllocationItemDialogClose}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.allocationItemListLoading,expression:"allocationItemListLoading"}],attrs:{data:t.allocationItemList,border:"","highlight-current-row":"",size:"mini"}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.deviceId))])]}}])}),a("el-table-column",{attrs:{label:"云机ID",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.hippoCloudDeviceId))])]}}])}),a("el-table-column",{attrs:{label:"云机版本",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.deviceVersionName))])]}}])}),a("el-table-column",{attrs:{label:"到期时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.allocationExpireTime))])]}}])}),a("el-table-column",{attrs:{label:"配套服务",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._l(n.orderBusinessDetailInfoList,(function(e){return[a("p",{key:e.businessName},[t._v(t._s(e.businessName)+" "+t._s(e.businessExpireTime))])]}))]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.allocationItemTotal>0,expression:"allocationItemTotal > 0"}],attrs:{total:t.allocationItemTotal,page:t.allocationItemListQuery.page,limit:t.allocationItemListQuery.pageSize},on:{"update:page":function(e){return t.$set(t.allocationItemListQuery,"page",e)},"update:limit":function(e){return t.$set(t.allocationItemListQuery,"pageSize",e)},pagination:t.getAllocationItemList}})],1)],1)},i=[],o=(a("fb6a"),a("bf19"),a("5530")),l=a("2f62"),r=a("333d"),c=a("aa98"),s=[{days:0,option:"当天"},{days:7,option:"7天"},{days:30,option:"30天"},{days:-1,option:"全部"}],u="1970-01-01",d=function(t){return t.toJSON().slice(0,10)},p=function(t){var e=new Date;return new Date(e.getTime()-24*t*60*60*1e3)},f={name:"AlloctionList",components:{Pagination:r["a"]},data:function(){return{daysListQueryOptions:s,allocationListQuery:{page:1,pageSize:20,days:0,phoneNum:void 0},allocationList:[],allocationListLoading:!1,allocationTotal:0,allocationItemListQuery:{page:1,pageSize:10,id:void 0},allocationItemList:[],allocationItemListLoading:!1,allocationItemTotal:0,allocationItemDialogVisible:!1}},created:function(){this.getAllocationList()},computed:Object(o["a"])({},Object(l["b"])(["token"])),methods:{getAllocationList:function(){var t=this,e=this.allocationListQuery,a=e.days,n=e.phoneNum,i=e.page,o=e.pageSize,l=u;a>-1&&(l=d(p(a)));var r=d(new Date),s={beginTime:l,endTime:r,page:i,pageSize:o};n&&(s.userPhone=n),this.allocationListLoading=!0,Object(c["b"])(s).then((function(e){var a=e.list,n=e.total;t.allocationList=a,t.allocationTotal=n,t.allocationListLoading=!1})).catch((function(e){t.allocationListLoading=!1}))},handleAllocationListFilter:function(){this.allocationListQuery.page=1,this.getAllocationList()},allocationItemClick:function(t){this.allocationItemDialogVisible=!0,this.allocationItemListQuery.id=t,this.getAllocationItemList()},getAllocationItemList:function(){var t=this,e=this.allocationItemListQuery,a=e.id,n=e.page,i=e.pageSize;this.allocationItemListLoading=!0,Object(c["e"])({token:this.token,recordId:a,page:n,pageSize:i}).then((function(e){var a=e.list,n=e.total;t.allocationItemList=a,t.allocationItemTotal=n,t.allocationItemListLoading=!1})).catch((function(e){t.allocationItemListLoading=!1}))},handleAllocationItemDialogClose:function(){this.allocationItemList=[],this.allocationItemTotal=0}}},m=f,g=(a("72cc"),a("2877")),h=Object(g["a"])(m,n,i,!1,null,"66f25b12",null);e["default"]=h.exports},7156:function(t,e,a){var n=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var o,l;return i&&"function"==typeof(o=e.constructor)&&o!==a&&n(l=o.prototype)&&l!==a.prototype&&i(t,l),t}},"72cc":function(t,e,a){"use strict";var n=a("e3ff"),i=a.n(n);i.a},a9e3:function(t,e,a){"use strict";var n=a("83ab"),i=a("da84"),o=a("94ca"),l=a("6eeb"),r=a("5135"),c=a("c6b6"),s=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,m=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,b="Number",v=i[b],y=v.prototype,L=c(p(y))==b,I=function(t){var e,a,n,i,o,l,r,c,s=u(t,!1);if("string"==typeof s&&s.length>2)if(s=h(s),e=s.charCodeAt(0),43===e||45===e){if(a=s.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+s}for(o=s.slice(2),l=o.length,r=0;r<l;r++)if(c=o.charCodeAt(r),c<48||c>i)return NaN;return parseInt(o,n)}return+s};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(L?d((function(){y.valueOf.call(a)})):c(a)!=b)?s(new v(I(e)),a,S):I(e)},_=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;_.length>N;N++)r(v,w=_[N])&&!r(S,w)&&g(S,w,m(v,w));S.prototype=y,y.constructor=S,l(i,b,S)}},aa98:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return c})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return u}));var n=a("b775");function i(t){return Object(n["a"])({url:"/coco/device/allocation",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/coco/device/allocation/syn",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/coco/device/allocation/record",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/coco/device/allocation/recycle",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/coco/device/allocation/record/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/coco/device/manager/list",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/coco/device/renew/list",method:"post",data:t})}},bf19:function(t,e,a){"use strict";var n=a("23e7");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},d887:function(t,e,a){"use strict";var n=a("1989"),i=a.n(n);i.a},e3ff:function(t,e,a){},fb6a:function(t,e,a){"use strict";var n=a("23e7"),i=a("861d"),o=a("e8b5"),l=a("23cb"),r=a("50c4"),c=a("fc6a"),s=a("8418"),u=a("b622"),d=a("1dde"),p=a("ae40"),f=d("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,e){var a,n,u,d=c(this),p=r(d.length),f=l(t,p),m=l(void 0===e?p:e,p);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?i(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,f,m);for(n=new(void 0===a?Array:a)(b(m-f,0)),u=0;f<m;f++,u++)f in d&&s(n,u,d[f]);return n.length=u,n}})}}]);