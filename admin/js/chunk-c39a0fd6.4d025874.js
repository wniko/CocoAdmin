(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c39a0fd6"],{"0a8f":function(e,s,t){},1989:function(e,s,t){},"2b5e":function(e,s,t){"use strict";var i=t("0a8f"),r=t.n(i);r.a},"333d":function(e,s,t){"use strict";var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(s){e.currentPage=s},"update:current-page":function(s){e.currentPage=s},"update:pageSize":function(s){e.pageSize=s},"update:page-size":function(s){e.pageSize=s},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];t("a9e3");Math.easeInOutQuad=function(e,s,t,i){return e/=i/2,e<1?t/2*e*e+s:(e--,-t/2*(e*(e-2)-1)+s)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,s,t){var i=a(),r=e-i,c=20,l=0;s="undefined"===typeof s?500:s;var u=function e(){l+=c;var a=Math.easeInOutQuad(l,i,r,s);n(a),l<s?o(e):t&&"function"===typeof t&&t()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=l,d=(t("d887"),t("2877")),m=Object(d["a"])(u,i,r,!1,null,"0b2719bc",null);s["a"]=m.exports},"440d":function(e,s,t){},"4d44":function(e,s,t){"use strict";t.d(s,"d",(function(){return r})),t.d(s,"e",(function(){return o})),t.d(s,"c",(function(){return n})),t.d(s,"f",(function(){return a})),t.d(s,"b",(function(){return c})),t.d(s,"a",(function(){return l}));var i=t("b775");function r(e){return Object(i["a"])({url:"/coco/business/individual/manager/list",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/coco/user/summary/list",method:"post",data:e})}function n(){return Object(i["a"])({url:"/coco/staff/operation/reason/list",method:"get"})}function a(e){return Object(i["a"])({url:"/coco/staff/operation/generate/code",method:"post",data:e})}function c(){return Object(i["a"])({url:"/coco/staff/operation/list",method:"get"})}function l(e){return Object(i["a"])({url:"/coco/staff/operation/delete/token",method:"get",params:e})}},"86e2":function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary"},on:{click:e.userCreateClick}},[t("i",{staticClass:"el-icon-user-solid"}),e._v(" 添加用户 ")]),e.isCoco5i?t("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"danger"},on:{click:e.coco5iUserDataClean}},[t("i",{staticClass:"el-icon-warning"}),e._v(" 清理数据 ")]):e._e(),t("div",{staticStyle:{float:"right"}},[t("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"用户名",size:"small",clearable:""},on:{clear:e.handleUserListFilter},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleUserListFilter(s)}},model:{value:e.userListQuery.nick,callback:function(s){e.$set(e.userListQuery,"nick",s)},expression:"userListQuery.nick"}}),t("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"手机号",size:"small",clearable:""},on:{clear:e.handleUserListFilter},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleUserListFilter(s)}},model:{value:e.userListQuery.phoneNum,callback:function(s){e.$set(e.userListQuery,"phoneNum",s)},expression:"userListQuery.phoneNum"}}),t("el-button",{staticClass:"filter-item",attrs:{size:"small"},on:{click:e.handleUserListFilter}},[e._v(" 搜索 ")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userListLoading,expression:"userListLoading"}],staticStyle:{"max-width":"1050px"},attrs:{data:e.userList,border:"","highlight-current-row":"",size:"small"}},[t("el-table-column",{attrs:{label:"ID",prop:"id",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("span",[e._v(e._s(1==i.id?"-":i.id))])]}}])}),t("el-table-column",{attrs:{label:"用户名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("span",[e._v(e._s(i.userNick))])]}}])}),t("el-table-column",{attrs:{label:"手机号",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("span",[e._v(e._s(i.userPhone))])]}}])}),t("el-table-column",{attrs:{label:"QQ号",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("span",[e._v(e._s(i.contactQq))])]}}])}),t("el-table-column",{attrs:{label:"创建时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("span",[e._v(e._s(i.gmtCreate))])]}}])}),t("el-table-column",{attrs:{label:"管理",width:"220",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return[t("el-button",{attrs:{disabled:1==i.id,type:"text",size:"mini"},on:{click:function(s){return e.userInfoModifyClick(i)}}},[e._v(" 修改资料 ")]),e.hasAccess()?t("el-button",{style:{color:e.inAccessList(i.id)?"#F56C6C":"#409EFF"},attrs:{type:"text",size:"mini"},on:{click:function(s){return e.userAccessModifyClick(i)}}},[e._v(" 运维授权 ")]):e._e(),t("el-button",{attrs:{type:"text",size:"mini",disabled:1==i.id},on:{click:function(s){return e.userPasswordResetClick(i)}}},[e._v(" 重置密码 ")])]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.userTotal>0,expression:"userTotal > 0"}],attrs:{total:e.userTotal,page:e.userListQuery.page,limit:e.userListQuery.pageSize},on:{"update:page":function(s){return e.$set(e.userListQuery,"page",s)},"update:limit":function(s){return e.$set(e.userListQuery,"pageSize",s)},pagination:e.getUserList}}),t("el-dialog",{staticClass:"user-dialog",attrs:{visible:e.userDialogVisible,"close-on-click-modal":!1,title:"新建用户",width:"350px"},on:{"update:visible":function(s){e.userDialogVisible=s},close:e.handleUserDialogClose}},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userFormRules,"label-width":"70px",size:"mini"}},[t("el-form-item",{attrs:{label:"用户名",prop:"userNick"}},[t("el-input",{attrs:{tabindex:"1"},model:{value:e.userForm.userNick,callback:function(s){e.$set(e.userForm,"userNick",s)},expression:"userForm.userNick"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[t("el-input",{attrs:{tabindex:"2"},model:{value:e.userForm.userPhone,callback:function(s){e.$set(e.userForm,"userPhone",s)},expression:"userForm.userPhone"}})],1),t("el-form-item",{attrs:{label:"QQ号",prop:"contactQq"}},[t("el-input",{attrs:{tabindex:"3"},model:{value:e.userForm.contactQq,callback:function(s){e.$set(e.userForm,"contactQq",s)},expression:"userForm.contactQq"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"userPassword"}},[t("el-input",{attrs:{tabindex:"4","show-password":""},model:{value:e.userForm.userPassword,callback:function(s){e.$set(e.userForm,"userPassword",s)},expression:"userForm.userPassword"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.userFromSumbitLoding,size:"mini"},on:{click:e.handleUserFromSumbit}},[e._v(" "+e._s(e.userFromSumbitLoding?"创建中":"创建")+" ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(s){e.userDialogVisible=!1}}},[e._v(" 取消 ")])],1)],1),t("el-dialog",{staticClass:"user-dialog",attrs:{visible:e.userInfoModifyDialogVisible,"close-on-click-modal":!1,title:"修改用户资料",width:"350px"},on:{"update:visible":function(s){e.userInfoModifyDialogVisible=s},close:e.handleUserDialogClose}},[t("el-form",{ref:"userInfoForm",attrs:{model:e.userForm,rules:e.userInfoFormRules,"label-width":"70px",size:"mini"}},[t("el-form-item",{attrs:{label:"用户名",prop:"userNick"}},[t("el-input",{attrs:{tabindex:"1"},model:{value:e.userForm.userNick,callback:function(s){e.$set(e.userForm,"userNick",s)},expression:"userForm.userNick"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[t("el-input",{attrs:{tabindex:"2"},model:{value:e.userForm.userPhone,callback:function(s){e.$set(e.userForm,"userPhone",s)},expression:"userForm.userPhone"}})],1),t("el-form-item",{attrs:{label:"QQ号",prop:"contactQq"}},[t("el-input",{attrs:{tabindex:"3"},model:{value:e.userForm.contactQq,callback:function(s){e.$set(e.userForm,"contactQq",s)},expression:"userForm.contactQq"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.userFromSumbitLoding,size:"mini"},on:{click:e.handleUserFromSumbit}},[e._v(" "+e._s(e.userFromSumbitLoding?"修改中":"修改")+" ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(s){e.userInfoModifyDialogVisible=!1}}},[e._v(" 取消 ")])],1)],1),t("el-dialog",{staticClass:"user-dialog",attrs:{visible:e.userAccessCancelDialogVisible,"close-on-click-modal":!1,title:"运维授权",width:"620px"},on:{"update:visible":function(s){e.userAccessCancelDialogVisible=s},close:e.handleCancelAccessDialogClose}},[t("el-alert",{attrs:{title:"授权已开启，请将授权码告知您的运维，如问题已解决，您可以选择结束授权。",closable:!1,type:"info"}}),t("div",{staticStyle:{marginTop:"10px"}},[t("div",{staticClass:"cancel-code"},[e._v(e._s(e.cancelAccessFrom.code))]),t("div",{staticClass:"cancel-time"},[t("span",{staticStyle:{color:"#F56C6C",padding:"0 8px"}},[e._v(e._s(e.cancelAccessFrom.time))]),t("span",{},[e._v("授权结束")])])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.cancelAccessFromSumbitLoding,size:"mini"},on:{click:e.handleCancelAccessFromSumbit}},[e._v(" "+e._s(e.cancelAccessFromSumbitLoding?"提交中...":"结束授权")+" ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(s){e.userAccessCancelDialogVisible=!1}}},[e._v(" 关闭 ")])],1)],1),t("el-dialog",{staticClass:"user-dialog",attrs:{visible:e.userAccessModifyDialogVisible,"close-on-click-modal":!1,title:"运维授权",width:"620px"},on:{"update:visible":function(s){e.userAccessModifyDialogVisible=s},close:e.handleAccessDialogClose}},[t("el-form",{ref:"accessForm",attrs:{model:e.accessForm,"label-width":"80px",size:"mini"}},[t("el-alert",{attrs:{title:"当您遇到必须运维介入操作云机的问题时，您可以选择发起运维登陆授权，提交授权即表示允许运维人员查看并操作代理商账户和旗下用户的账户，河马云将严格遵守《隐私条款》，该功能仅用于协助您解决问题。",closable:!1,type:"info"}}),t("el-form-item",{style:{marginTop:"20px"},attrs:{label:"授权原因"}},[t("el-select",{model:{value:e.accessForm.reason,callback:function(s){e.$set(e.accessForm,"reason",s)},expression:"accessForm.reason"}},e._l(e.userAccessReasonList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.reasonName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"授权时间"}},[t("el-col",{attrs:{span:5}},[t("el-select",{model:{value:e.accessForm.day,callback:function(s){e.$set(e.accessForm,"day",s)},expression:"accessForm.day"}},e._l(6,(function(e,s){return t("el-option",{key:s,attrs:{label:s+"天",value:s}})})),1)],1),t("el-col",{attrs:{span:6,offset:1}},[t("el-select",{model:{value:e.accessForm.hour,callback:function(s){e.$set(e.accessForm,"hour",s)},expression:"accessForm.hour"}},e._l(24,(function(e,s){return t("el-option",{key:s,attrs:{label:s+"小时",value:s}})})),1)],1),t("el-col",{attrs:{span:1}},[t("el-tooltip",{attrs:{content:"，",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 授权时间到期自动结束，生成的临时码自动失效，运维人员将无法对您的账户进行任何操作， "),t("br"),e._v(" 如问题提前解决，您可以选择随时终止授权。 ")]),t("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"16px","margin-left":"5px",cursor:"pointer"}})])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.accessFromSumbitLoding,size:"mini"},on:{click:e.handleAccessFromSumbit}},[e._v(" "+e._s(e.accessFromSumbitLoding?"提交中...":"提交授权")+" ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(s){e.userAccessModifyDialogVisible=!1}}},[e._v(" 取消 ")])],1)],1),t("el-dialog",{staticClass:"user-dialog",attrs:{visible:e.userPasswordResetDialogVisible,"close-on-click-modal":!1,title:"重置用户密码",width:"350px"},on:{"update:visible":function(s){e.userPasswordResetDialogVisible=s},close:e.handleUserDialogClose}},[t("el-form",{ref:"userPasswordForm",attrs:{model:e.userForm,rules:e.userPasswordFormRules,"label-width":"70px",size:"mini"}},[t("el-form-item",{attrs:{label:"新密码",prop:"userPassword"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.userForm.userPassword,callback:function(s){e.$set(e.userForm,"userPassword",s)},expression:"userForm.userPassword"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.userFromSumbitLoding,size:"mini"},on:{click:e.handleUserFromSumbit}},[e._v(" "+e._s(e.userFromSumbitLoding?"修改中":"修改")+" ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(s){e.userPasswordResetDialogVisible=!1}}},[e._v(" 取消 ")])],1)],1)],1)},r=[],o=(t("99af"),t("7db0"),t("c975"),t("45fc"),t("4d63"),t("ac1f"),t("25f0"),t("5319"),t("1276"),t("2909")),n=t("5530"),a=t("2f62"),c=t("333d"),l=t("c24f"),u=t("4d44"),d=t("e285"),m=t("5f87"),f=function(e,s){var t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(s)&&(s=s.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return s},p=function(e){if(e){var s=e.split(" "),t=s[0].split("-"),i=s[1].split(":"),r=new Date(t[0],t[1]-1,t[2],i[0],i[1],i[2]);return r}},g={id:1,userNick:"admin账户",userPhone:"-",contactQq:"-",gmtCreate:"-"},h={userPhone:[{required:!0,pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],userNick:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],contactQq:[{required:!0,message:"请输入QQ号",trigger:"blur"}]},b={userPassword:[{required:!0,min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},v={name:"UserList",components:{Pagination:c["a"]},data:function(){return{userListQuery:{page:1,pageSize:20,nick:void 0,phoneNum:void 0,qqNum:void 0},userList:[],userListLoading:!1,userTotal:0,userForm:{id:void 0,userNick:void 0,userPassword:void 0,userPhone:void 0,contactQq:void 0},userFormRules:Object(n["a"])({},h,{},b),userInfoFormRules:h,userPasswordFormRules:b,userFromSumbitLoding:!1,userDialogVisible:!1,userInfoModifyDialogVisible:!1,userPasswordResetDialogVisible:!1,userAccessReasonList:[],accessForm:{reason:void 0,day:0,hour:1,userId:void 0},accessFromSumbitLoding:!1,userAccessModifyDialogVisible:!1,userAccessList:[],cancelAccessFrom:{userId:void 0,code:void 0,time:void 0},userAccessCancelDialogVisible:!1,cancelAccessFromSumbitLoding:!1}},created:function(){this.getUserList(),this.hasAccess()&&(this.getUserAccessList(),this.getUserAccessReasonList())},computed:Object(n["a"])({},Object(a["b"])(["token"]),{isCoco5i:function(){return"www.coco5i.com"===window.location.hostname}}),methods:{hasAccess:function(){var e=Object(m["a"])();return e&&-1===e.indexOf("staff")},inAccessList:function(e){return this.userAccessList.some((function(s){return s.staffUserId===e}))},getUserList:function(){var e=this,s=this.token,t=this.userListQuery,i=t.nick,r=t.phoneNum,a=t.page,c=t.pageSize,u={page:a,pageSize:c};i&&(u.userNick=i),r&&(u.userPhone=r),this.userListLoading=!0,Object(l["c"])(Object(n["a"])({token:s},u)).then((function(s){var t=s.list,i=s.total;1===u.page?e.userList=[g].concat(Object(o["a"])(t)):e.userList=t,e.userTotal=i,e.userListLoading=!1})).catch((function(s){e.userListLoading=!1}))},getUserAccessList:function(){var e=this;Object(u["b"])().then((function(s){e.userAccessList=s.data}))},getUserAccessReasonList:function(){var e=this;Object(u["c"])().then((function(s){e.userAccessReasonList=s.data}))},handleUserListFilter:function(){this.userListQuery.page=1,this.getUserList()},userCreateClick:function(){this.userDialogVisible=!0},userInfoModifyClick:function(e){var s=e.userNick,t=e.userPhone,i=e.contactQq;this.userForm.id=e.id,this.userForm.userNick=s,this.userForm.userPhone=t,this.userForm.contactQq=i,this.userForm.userPassword=void 0,this.userInfoModifyDialogVisible=!0},computeAccessTime:function(e,s){var t=e;t instanceof Date||(t=p(e));var i=new Date(t.getTime()+60*s*1e3);return f(i,"yyyy-MM-dd hh:mm:ss")},userAccessModifyClick:function(e){var s=e.id,t=this.findUserAccess(s);t?(this.cancelAccessFrom.userId=s,this.cancelAccessFrom.code=t.staffCode,this.cancelAccessFrom.time=this.computeAccessTime(t.staffTime,t.staffDuration),this.userAccessCancelDialogVisible=!0):(this.accessForm.userId=s,this.userAccessModifyDialogVisible=!0)},findUserAccess:function(e){return this.userAccessList.find((function(s){return s.staffUserId===e}))},userPasswordResetClick:function(e){e.userNick,e.userPhone,e.contactQq;this.userForm.id=e.id,this.userForm.userNick=void 0,this.userForm.userPhone=void 0,this.userForm.contactQq=void 0,this.userForm.userPassword=void 0,this.userPasswordResetDialogVisible=!0},handleUserFromSumbit:function(){var e=this,s="userForm";this.userInfoModifyDialogVisible&&(s="userInfoForm"),this.userPasswordResetDialogVisible&&(s="userPasswordForm"),this.$refs[s].validate((function(s){return!!s&&(e.userDialogVisible?e.handleUserAdd():e.handleUserUpdate(),!0)}))},handleUserAdd:function(){var e=this,s=this.token,t=this.userForm,i=t.userNick,r=t.userPhone,o=t.userPassword,n=t.contactQq;this.userFromSumbitLoding=!0,Object(l["a"])({token:s,userNick:i,userPhone:r,userPassword:o,contactQq:n}).then((function(s){e.$message.success("新建用户成功"),e.userFromSumbitLoding=!1,e.userDialogVisible=!1,e.getUserList()})).catch((function(s){e.userFromSumbitLoding=!1}))},handleUserUpdate:function(){var e=this,s=this.token,t=this.userForm,i=t.id,r=t.userNick,o=t.userPhone,n=t.userPassword,a=t.contactQq,c={token:s,userId:i};r&&(c.userNick=r),o&&(c.userPhone=o),a&&(c.contactQq=a),n&&(c.userPassword=n),this.userFromSumbitLoding=!0,Object(l["i"])(c).then((function(s){e.$message.success("修改用户成功"),e.userFromSumbitLoding=!1,e.userInfoModifyDialogVisible=!1,e.userPasswordResetDialogVisible=!1,e.getUserList()})).catch((function(s){e.userFromSumbitLoding=!1}))},handleUserDialogClose:function(){this.userForm={id:void 0,userNick:void 0,userPassword:void 0,userPhone:void 0,contactQq:void 0}},handleAccessFromSumbit:function(){var e=this,s=this.accessForm,t=s.reason,i=s.day,r=void 0===i?0:i,o=s.hour,n=s.userId;if(t)if(r||o){this.accessFromSumbitLoding=!0;var a=60*(24*parseInt(r)+parseInt(o));Object(u["f"])({reasonNameId:t,staffDuration:a,userId:n}).then((function(s){e.accessFromSumbitLoding=!1,e.userAccessModifyDialogVisible=!1,e.getUserAccessList(),e.cancelAccessFrom.userId=n,e.cancelAccessFrom.code=s.data,e.cancelAccessFrom.time=e.computeAccessTime(new Date,a),setTimeout((function(){return e.userAccessCancelDialogVisible=!0}),300)})).catch((function(){e.$message.error("申请授权出错！"),e.accessFromSumbitLoding=!1}))}else this.$message.error("请选择正确的授权时间！");else this.$message.error("请选授权原因！")},handleAccessDialogClose:function(){this.accessForm={reason:void 0,day:0,hour:1}},handleCancelAccessFromSumbit:function(){var e=this,s=this.cancelAccessFrom.userId;void 0!==s?(this.cancelAccessFromSumbitLoding=!0,Object(u["a"])({userId:s}).then((function(s){e.$message.success("结束授权成功！"),e.cancelAccessFromSumbitLoding=!1,e.userAccessCancelDialogVisible=!1,e.getUserAccessList()})).catch((function(){e.$message.error("结束授权出错！"),e.cancelAccessFromSumbitLoding=!1}))):this.$message.error("请选择要结束授权的账户！")},handleCancelAccessDialogClose:function(){this.cancelAccessFrom={userId:void 0,code:void 0,time:void 0}},coco5iUserDataClean:function(){var e=this;this.$confirm("此操作将清理用户数据(仅供测试使用)，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["b"])().then((function(s){e.$message.success("清理成功"),e.getUserList()}))})).catch((function(){}))}}},F=v,y=(t("2b5e"),t("c75b"),t("2877")),k=Object(y["a"])(F,i,r,!1,null,"020cc7d4",null);s["default"]=k.exports},c75b:function(e,s,t){"use strict";var i=t("440d"),r=t.n(i);r.a},d887:function(e,s,t){"use strict";var i=t("1989"),r=t.n(i);r.a}}]);